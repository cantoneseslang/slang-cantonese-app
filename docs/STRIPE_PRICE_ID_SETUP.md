# Stripe価格IDの設定方法

## 概要

Stripeダッシュボードで既に商品と価格を作成している場合、その価格IDを使用することで、より確実に決済処理を行うことができます。

## 価格IDの取得方法

### 1. Stripeダッシュボードで商品を開く

1. Stripeダッシュボードにログイン
2. 左側メニューから「商品」をクリック
3. 対象の商品（例: ゴールド会員）をクリック

### 2. 価格IDを確認

商品ページで「料金」セクションを確認すると、価格ID（`price_...`で始まる）が表示されます。

例：
- ゴールド会員（買い切り）: `price_xxxxxxxxxxxxx`
- シルバー会員（月額）: `price_yyyyyyyyyyyyy`

**重要**: 商品ID（`prod_...`）ではなく、**価格ID（`price_...`）**を使用してください。

## 環境変数の設定

Vercelの環境変数に以下の価格IDを設定してください：

| Key | Value | 説明 |
|-----|-------|------|
| `STRIPE_PRICE_ID_SUBSCRIPTION` | `price_...` | シルバー会員（月額）の価格ID |
| `STRIPE_PRICE_ID_LIFETIME` | `price_...` | ゴールド会員（買い切り）の価格ID |

## 動作

- **価格IDが設定されている場合**: 既存の価格IDを使用してCheckoutセッションを作成
- **価格IDが設定されていない場合**: 動的に価格を作成（フォールバック）

## 注意事項

- 価格IDは本番環境とテスト環境で異なる場合があります
- 環境変数で設定することで、環境ごとに異なる価格IDを使用できます
- 価格IDを設定することで、Stripeダッシュボードで価格を変更した際に自動的に反映されます

